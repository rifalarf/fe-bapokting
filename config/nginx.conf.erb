daemon off;
worker_processes auto;

events {
  worker_connections 4096;
}

http {
  # Alihkan log ke output standar, agar ditangkap oleh Heroku Logs
  access_log /dev/stdout;
  error_log /dev/stderr;

  include mime.types;
  default_type application/octet-stream;
  sendfile on;

  server {
    listen <%= ENV["PORT"] %>;
    server_name _;

    # Tentukan folder root tempat file hasil build berada
    root /app/dist;
    index index.html;

    # Aturan untuk Single Page Application (React Router)
    location / {
      try_files $uri /index.html;
    }
  }
}